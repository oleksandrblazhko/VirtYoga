# Опис суглобів людини з використанням матриць

## Вступ
У рамках розробки програми "Віртуальна Йога", яка використовує технології розпізнавання скелету людини за допомогою бібліотеки Mediapipe, важливим є математичне представлення положення суглобів. Цей документ пропонує кілька варіантів опису суглобів людини з використанням матриць, що дозволить застосовувати методи вищої математики для аналізу та порівняння поз йоги.

## Варіант 1: Матриця координат суглобів

### Опис
Кожен суглоб можна представити як точку в тривимірному просторі з координатами (x, y, z). Для 33 суглобів скелету, відповідно до бібліотеки Mediapipe, можна створити матрицю 33×3, де кожен рядок представляє один суглоб:

```
J = [x₁  y₁  z₁ ]
    [x₂  y₂  z₂ ]
    [x₃  y₃  z₃ ]
    [⋮   ⋮   ⋮  ]
    [x₃₃ y₃₃ z₃₃]
```

де (xi, yi, zi) - координати i-го суглоба.

### Переваги
- Просте представлення положення всіх суглобів
- Можливість виконання операцій над всіма суглобами одночасно
- Легке порівняння з еталонними позами

### Недоліки
- Не враховує орієнтацію тіла
- Не містить інформації про кути між суглобами

## Варіант 2: Матриця відстаней між суглобами

### Опис
Можна створити квадратну матрицю 33×33, де кожен елемент aᵢⱼ представляє відстань між i-м і j-м суглобами:

```
D = [d₁₁  d₁₂  d₁₃  ... d₁₃₃]
    [d₂₁  d₂₂  d₂₃  ... d₂₃₃]
    [d₃₁  d₃₂  d₃₃  ... d₃₃₃]
    [ ⋮    ⋮    ⋮   ⋱   ⋮  ]
    [d₃₃₁ d₃₃₂ d₃₃₃ ... d₃₃₃₃]
```

де dᵢⱼ = √[(xi-xj)² + (yi-yj)² + (zi-zj)²]

### Переваги
- Відображає просторові відношення між усіма суглобами
- Може використовуватися для аналізу пропорцій тіла
- Інваріантна до обертання тіла

### Недоліки
- Великий розмір матриці (33×33 = 1089 елементів)
- Може бути обчислювально витратною

## Варіант 3: Матриця кутів між суглобами

### Опис
Можна створити матрицю, що представляє кути між парами суглобів відносно третіх суглобів (кути в трикутниках, утворених суглобами). Наприклад, для кожної трійки суглобів (i, j, k), можна обчислити кут ∠jik:

```
A = [α₁₁₂ α₁₁₃ α₁₁₄ ... α₁₂₃₃]
    [α₂₁₁ α₂₁₂ α₂₁₃ ... α₂₂₃₃]
    [α₃₁₁ α₃₁₂ α₃₁₃ ... α₃₂₃₃]
    [ ⋮    ⋮    ⋮   ⋱    ⋮  ]
    [α₃₃₁₁ α₃₃₁₂ α₃₃₁₃ ... α₃₃₂₃₂]
```

де αᵢⱼₖ - кут при суглобі j між суглобами i та k.

### Переваги
- Відображає геометрію тіла в термінах кутів
- Допомагає аналізувати правильність поз
- Може бути менш чутливою до масштабу тіла

### Недоліки
- Складні обчислення
- Вимагає визначення значущих трійок суглобів

## Варіант 4: Комбінована матриця для аналізу пози

### Опис
Для аналізу йога-поз можна використовувати комбінований підхід, що включає:

1. Матрицю координат J (33×3) для представлення положення
2. Виділені підматриці для важливих груп суглобів (наприклад, для аналізу пози "воїна" можна виділити суглоби ноги та тулуба)
3. Матриці трансформацій для нормалізації положення

Приклад:
```
J = [x₁  y₁  z₁ ] ← ніс (0)
    [x₂  y₂  z₂ ] ← ліве око (внутрішнє) (1)
    [⋮   ⋮   ⋮  ]
    [x₁₁ y₁₁ z₁₁] ← ліве плече (11)
    [x₁₂ y₁₂ z₁₂] ← праве плече (12)
    [⋮   ⋮   ⋮  ]
    [x₃₂ y₃₂ z₃₂] ← правий палець ноги (32)
```

Для аналізу певної пози можна використовувати підматриці:
```
J_руки = [x₁₃ y₁₃ z₁₃] ← лікоть (13)
         [x₁₄ y₁₄ z₁₄] ← правий лікоть (14)
         [x₁₅ y₁₅ z₁₅] ← лівий зап'ясток (15)
         [x₁₆ y₁₆ z₁₆] ← правий зап'ясток (16)
```

### Переваги
- Гнучкий підхід для різних типів аналізу
- Можливість зосередження на конкретних частинах тіла
- Легка інтеграція з алгоритмами машинного навчання

### Недоліки
- Потребує визначення специфічних для задачі підматриць
- Може бути складною для початківців

## Висновок

Використання матриць для представлення суглобів людини в додатку "Віртуальна Йога" дозволяє застосовувати методи лінійної алгебри для аналізу та порівняння поз. Кожен з розглянутих варіантів має свої переваги та недоліки, і для практичної реалізації може бути використана комбінація цих підходів залежно від конкретної задачі аналізу йога-пози.