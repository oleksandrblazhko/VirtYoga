# Лекція 6: Прямі та площини в аналізі йога-поз

**Назва лекції:** «Пряма на площині... Кут між прямими. Відстань від точки до прямої. Площина... Відстань від точки до площини. Умови паралельності і перпендикулярності площин».

**Назва практичного заняття:** «Різні види прямої на площині. Рівняння площини. Відстань від точки до прямої і до площини...»

**Пов'язані розділи з `Docs\Lecture_1_3.txt`:** 3.1 "Пряма на площині (в R2)" та 3.3 "Площина у просторі (в R3)".

---

### Обґрунтування користі для IT-проєкту

Поняття прямих та площин є фундаментальними для опису вирівнювання тіла у тривимірному просторі. Для проєкту "WebcamPhysExercise" це дозволяє перейти від аналізу окремих кінцівок до оцінки загальної структури пози.
-   **Рівняння прямої:** Дозволяє математично описати "пряму спину" або "випрямлену ногу", перевіряючи, чи лежать три або більше суглобів на одній лінії.
-   **Рівняння площини:** Дозволяє моделювати такі частини тіла, як тулуб (площина, що проходить через плечі та стегна) або площину, в якій рухаються руки. Це дає можливість перевіряти такі вимоги, як "тримайте плечі і таз в одній площині", що є критичним для уникнення травм.
-   **Взаємне розташування:** Формули для кутів та відстаней дозволяють кількісно оцінити відхилення від ідеальної пози. Наприклад, наскільки далеко знаходиться рука від правильної площини або під яким кутом нахилений тулуб.

---

### Зв'язок математичної формалізації із описом IT-проєкту

| Елемент опису IT-проєкту | Математична формалізація (з розділів 3.1, 3.3) |
| :--- | :--- |
| Випрямлена кінцівка або спина | **Перевірка колінеарності** трьох точок (суглобів), використовуючи рівняння прямої, що проходить через дві точки (формула 3.1.8). Якщо третя точка задовольняє рівнянню, то всі три лежать на одній прямій. |
| Площина тулуба | **Рівняння площини, що проходить через три точки** (напр., ліве плече, праве плече, центр тазу). Це дозволяє визначити орієнтацію корпусу у просторі. |
| Відхилення суглоба від правильного положення | **Відстань від точки до площини**. Якщо поза вимагає, щоб руки були в площині тулуба, програма може обчислити відстань від зап'ястя до цієї площини. |
| Правильність нахилу корпусу | **Кут між площинами**. Програма може обчислити кут між поточною площиною тулуба та ідеальною (наприклад, вертикальною) площиною. |

---

### Приклади математичного опису IT-проєкту

**1. Перевірка "прямої спини":**

У багатьох асанах спина має бути прямою. Програма може перевірити це, взявши три точки: центр тазу (H), центр грудної клітки (T) і шию (N).
-   **Крок 1:** Скласти рівняння прямої, що проходить через точки H(`x1, y1`) і N(`x2, y2`) (використовуючи формулу 3.1.8).
-   **Крок 2:** Підставити координати точки T(`x, y`) у отримане рівняння.
-   **Аналіз:** Якщо рівняння перетворюється на тотожність (з певною похибкою), то спина вважається прямою. В іншому випадку програма може розрахувати відстань від точки T до прямої HN (формула 3.1.33) і дати пораду: "Випрямте спину, зменшіть прогин у грудному відділі".

**2. Аналіз пози "Воїн II" за допомогою площин:**

У цій позі руки мають бути розведені в сторони в одній площині з тулубом, а сам тулуб має бути вертикальним.
-   **Крок 1: Визначення площини тулуба `Π_torso`**. Програма будує площину, що проходить через три точки: ліве плече (LS), праве плече (RS) і центр тазу (H). Це дає загальне рівняння площини `Ax + By + Cz + D = 0`.
-   **Крок 2: Перевірка вертикальності тулуба.** Нормальний вектор до цієї площини `N = (A, B, C)` має бути горизонтальним, тобто його `y`-компонента має бути близькою до нуля (`B ≈ 0`). Якщо це не так, програма радить: "Не нахиляйте корпус вперед або назад".
-   **Крок 3: Перевірка положення рук.** Програма обчислює відстань від лівого (`LW`) та правого (`RW`) зап'ясть до площини тулуба `Π_torso`.
-   **Аналіз:** Якщо відстані значні, це означає, що руки виведені вперед або назад.
-   **Рекомендація:** "Тримайте руки в площині тулуба, не виводьте їх уперед".

**3. Кут між площинами:**

У позі скручування, наприклад "Паривритта Триконасана", площина плечей має бути перпендикулярна до площини тазу.
-   Програма визначає площину плечей `Π_shoulders` і площину тазу `Π_hips`.
-   Знаходить їхні нормальні вектори `N1` і `N2`.
-   Обчислює кут між площинами через кут між їхніми нормалями (аналогічно до формули 3.1.20 для прямих).
-   **Рекомендація:** "Скручуйтесь сильніше, цільовий кут 90 градусів".
