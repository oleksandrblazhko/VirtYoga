# Сценарії використання математичного опису для IT-проєкту "WebcamPhysExercise"

## Лекція 7. «Рівняння прямої у просторі: через дві точки, загальні, канонічні. Кут між площиною і прямою у просторі. Визначення координат точки перетину прямої та площини»

### Обгрунтування користі:
Рівняння прямої у просторі дозволяє точно моделювати та аналізувати положення частин тіла людини в тривимірному просторі. Це особливо важливо для аналізу правильності розташування кінцівок, тулуба та інших елементів пози, а також для визначення взаємодії між лінійними елементами тіла та еталонними площинами або лініями. Використання координатного методу дозволяє описати будь-яку геометричну фігуру алгебраїчними засобами, що критично важливо для автоматичного аналізу пози тіла.

### Зв'язок математичної формалізації із описом IT-проєкту:
- Канонічні рівняння прямої використовуються для моделювання ліній, утворених послідовними суглобами у 3D просторі
- Визначення кута між прямою (лінією суглобів) і площиною дозволяє аналізувати нахил частин тіла
- Точка перетину прямої та площини може використовуватися для визначення контактів тіла з еталонними площинами
- Рівняння прямої через дві точки застосовується для моделювання окремих сегментів тіла

### Приклади математичного опису IT-проєкту:

**1. Канонічне рівняння прямої через два суглоби:**
```
Нехай A(x₁, y₁, z₁) і B(x₂, y₂, z₂) - координати двох послідовних суглобів.
Канонічне рівняння прямої, що проходить через ці точки:
(x-x₁)/(x₂-x₁) = (y-y₁)/(y₂-y₁) = (z-z₁)/(z₂-z₁)

де (x₂-x₁, y₂-y₁, z₂-z₁) - координати напрямного вектора s = (m, n, p).
Це дозволяє точно моделювати положення кінцівок та аналізувати їх відповідність еталонній позі.
```

**2. Параметричні рівняння прямої для аналізу траєкторії руху:**
```
Пряма, що проходить через суглоби A(x₀, y₀, z₀) з напрямним вектором s = (m, n, p),
може бути задана параметрично:
x = x₀ + mt
y = y₀ + nt
z = z₀ + pt

де t - параметр, що дозволяє визначити будь-яку точку на лінії між суглобами.
Це корисно для аналізу траєкторії руху під час виконання йога-вправ.
```

**3. Визначення кута між лінією суглобів і площиною:**
```
Нехай лінія суглобів задана напрямним вектором s = (a, b, c),
а площина задана рівнянням Ax + By + Cz + D = 0 з нормальним вектором n = (A, B, C).

Кут φ між прямою і площиною обчислюється за формулою:
sin(φ) = |n · s| / (|n| × |s|) = |Aa + Bb + Cc| / (√(A²+B²+C²) × √(a²+b²+c²))

Це дозволяє визначити, наскільки точно частина тіла (наприклад, рука або нога) нахилена відносно еталонної площини.
```

**4. Визначення точки перетину прямої суглобів і еталонної площини:**
```
Якщо пряма задана параметрично:
x = x₀ + ta
y = y₀ + tb
z = z₀ + tc

і площина задана рівнянням Ax + By + Cz + D = 0,
то точка перетину знаходиться підстановкою параметричних рівнянь у рівняння площини:
A(x₀ + ta) + B(y₀ + tb) + C(z₀ + tc) + D = 0

Розв'язуючи відносно t:
t = -(Ax₀ + By₀ + Cz₀ + D) / (Aa + Bb + Cc)

Підставляючи t назад, отримуємо координати точки перетину.
```

**5. Перевірка, чи лежить суглоб на еталонній прямій:**
```
Якщо суглоб P(x, y, z) має лежати на прямій, що проходить через точки A(x₁, y₁, z₁) і B(x₂, y₂, z₂),
то він задовольняє канонічне рівняння:
(x-x₁)/(x₂-x₁) = (y-y₁)/(y₂-y₁) = (z-z₁)/(z₂-z₁)

Відхилення від цієї рівності показує, наскільки суглоб відхиляється від еталонної лінії.
```

**6. Визначення найближчої точки на прямій до суглоба:**
```
Щоб знайти точку на прямій, що проходить через A з напрямним вектором d, 
найближчу до суглоба P, використовуємо ортогональну проекцію:

t = ((P-A) · d) / (d · d)

Тоді найближча точка Q = A + t×d

Відстань |P-Q| показує, наскільки далеко суглоб від еталонної лінії.
```

**7. Аналіз взаємного розташування двох ліній суглобів:**
```
Для двох прямих у просторі:
l₁: (x-x₁)/a₁ = (y-y₁)/b₁ = (z-z₁)/c₁
l₂: (x-x₂)/a₂ = (y-y₂)/b₂ = (z-z₂)/c₂

Можна визначити, чи вони перетинаються, паралельні або мимобіжні.
Це корисно для аналізу симетрії тіла або взаємодії між різними частинами тіла.
```

**8. Визначення міри відхилення прямої від еталонної:**
```
Якщо є еталонна пряма l₀ з напрямним вектором d₀ і точкою A₀,
та фактична пряма l з напрямним вектором d і точкою A,
то відхилення можна оцінити за кутом між векторами d₀ і d:
cos(θ) = |d₀ · d| / (|d₀| × |d|)

і відстанню між точками A₀ і A.
Це дозволяє кількісно оцінити, наскільки фактична поза відрізняється від еталонної.
```

**9. Визначення рівняння прямої, що проходить через дві точки:**
```
Якщо суглоби A(x₁, y₁, z₁) і B(x₂, y₂, z₂) визначають лінію тіла (наприклад, лінію плечей),
то рівняння прямої, що проходить через ці точки:
(x-x₁)/(x₂-x₁) = (y-y₁)/(y₂-y₁) = (z-z₁)/(z₂-z₁)

Це дозволяє аналізувати нахил та орієнтацію частин тіла в просторі.
```

Ці математичні моделі дозволяють системі точно аналізувати тривимірне розташування частин тіла, визначати кути нахилу, точки перетину з еталонними площинами та надавати точні рекомендації щодо корекції пози для досягнення правильної йога-пози.